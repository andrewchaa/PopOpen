namespace PopFs.Tests

open NUnit.Framework
open FsUnit
open Pop
open System.Diagnostics

[<TestFixture>]
type ``Given OpenInternal`` ()=
    
    let file = "file"
    let start _ = file, new Process()
    let mutable processX = new Process()

    let find flh _ = nativeint 10
    let findLockingHandle (file: string) = nativeint 10
    let popUp t = t
        
    [<Test>] 
    member Given. ``a process opening and locking the file, it finds the handle from the locking process`` ()=
        PopOpen.OpenInternal 
            (fun f -> new Process())
            findLockingHandle 
            file |> should equal (nativeint 10)
    
//    [<Test>]
//    member Given. ``a process not locking the file, it finds the handle from Start`` ()=
//        PopOpen.OpenInternal 
//            (fun f -> let process = new Process())

